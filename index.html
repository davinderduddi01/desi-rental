<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Desi Rental</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body class="bg-gray-100">

<div class="flex min-h-screen">

  <!-- SIDEBAR -->
  <aside class="w-64 bg-slate-900 text-white p-5">
    <h1 class="text-2xl font-bold mb-6">Desi Rental</h1>
    <nav class="space-y-2">
      <button onclick="show('dashboard')" class="w-full text-left p-2 rounded hover:bg-slate-700">Dashboard</button>
      <button onclick="show('bikes')" class="w-full text-left p-2 rounded hover:bg-slate-700">Vehicles</button>
      <button onclick="show('clients')" class="w-full text-left p-2 rounded hover:bg-slate-700">Clients</button>
      <button onclick="show('rentals')" class="w-full text-left p-2 rounded hover:bg-slate-700">Rentals</button>
    </nav>
  </aside>

  <!-- MAIN -->
  <main class="flex-1 p-6">

    <!-- DASHBOARD -->
    <section id="dashboard">
      <h2 class="text-2xl font-semibold mb-4">Dashboard</h2>

      <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
        <div class="bg-white p-4 rounded shadow">
          <p class="text-gray-500">Vehicles</p>
          <h3 id="bikeCount" class="text-3xl font-bold">0</h3>
        </div>
        <div class="bg-white p-4 rounded shadow">
          <p class="text-gray-500">Clients</p>
          <h3 id="clientCount" class="text-3xl font-bold">0</h3>
        </div>
        <div class="bg-white p-4 rounded shadow">
          <p class="text-gray-500">Active Rentals</p>
          <h3 id="rentalCount" class="text-3xl font-bold">0</h3>
        </div>
        <div class="bg-white p-4 rounded shadow">
          <p class="text-gray-500">Revenue</p>
          <h3 class="text-3xl font-bold">$<span id="revenue">0</span></h3>
        </div>
      </div>

      <div class="bg-white p-4 rounded shadow mt-6">
        <canvas id="chart"></canvas>
      </div>
    </section>

    <!-- BIKES -->
    <section id="bikes" class="hidden">
      <h2 class="text-2xl font-semibold mb-4">Vehicles</h2>

      <div class="bg-white p-4 rounded shadow mb-4">
        <input id="bikeName" class="border p-2 w-full mb-2" placeholder="Vehicle name">
        <input id="rate1" class="border p-2 w-full mb-2" placeholder="Weekly Rate Option 1">
        <input id="rate2" class="border p-2 w-full mb-2" placeholder="Weekly Rate Option 2">
        <button onclick="addBike()" class="bg-slate-900 text-white px-4 py-2 rounded">Add Vehicle</button>
      </div>

      <table class="w-full bg-white rounded shadow">
        <thead class="bg-gray-200">
          <tr>
            <th class="p-2 text-left">Vehicle</th>
            <th class="p-2">Rate 1</th>
            <th class="p-2">Rate 2</th>
          </tr>
        </thead>
        <tbody id="bikeTable"></tbody>
      </table>
    </section>

    <!-- CLIENTS -->
    <section id="clients" class="hidden">
      <h2 class="text-2xl font-semibold mb-4">Clients</h2>

      <div class="bg-white p-4 rounded shadow mb-4">
        <input id="clientName" class="border p-2 w-full mb-2" placeholder="Client name">
        <input id="clientPhone" class="border p-2 w-full mb-2" placeholder="Phone">
        <button onclick="addClient()" class="bg-slate-900 text-white px-4 py-2 rounded">Add Client</button>
      </div>

      <ul id="clientList" class="bg-white rounded shadow divide-y"></ul>
    </section>

    <!-- RENTALS -->
    <section id="rentals" class="hidden">
      <h2 class="text-2xl font-semibold mb-4">Rentals</h2>

      <div class="bg-white p-4 rounded shadow mb-4">
        <select id="rentBike" class="border p-2 w-full mb-2"></select>
        <select id="rentClient" class="border p-2 w-full mb-2"></select>
        <select id="rentRate" class="border p-2 w-full mb-2">
          <option value="1">Rate Option 1</option>
          <option value="2">Rate Option 2</option>
        </select>
        <input id="weeks" class="border p-2 w-full mb-2" placeholder="Weeks">
        <button onclick="addRental()" class="bg-slate-900 text-white px-4 py-2 rounded">Create Rental</button>
      </div>

      <ul id="rentalList" class="bg-white rounded shadow divide-y"></ul>
    </section>

  </main>
</div>

<script>
let bikes=[], clients=[], rentals=[];

function show(id){
  ["dashboard","bikes","clients","rentals"].forEach(s=>document.getElementById(s).classList.add("hidden"));
  document.getElementById(id).classList.remove("hidden");
}

function addBike(){
  bikes.push({name:bikeName.value,r1:+rate1.value,r2:+rate2.value});
  bikeName.value=rate1.value=rate2.value="";
  render();
}

function addClient(){
  clients.push({name:clientName.value,phone:clientPhone.value});
  clientName.value=clientPhone.value="";
  render();
}

function addRental(){
  let b=bikes[rentBike.value];
  let c=clients[rentClient.value];
  let rate=rentRate.value==1?b.r1:b.r2;
  let total=rate*weeks.value;
  rentals.push({bike:b.name,client:c.name,total});
  weeks.value="";
  render();
}

function render(){
  bikeTable.innerHTML=bikes.map(b=>`<tr><td class="p-2">${b.name}</td><td class="p-2 text-center">${b.r1}</td><td class="p-2 text-center">${b.r2}</td></tr>`).join("");
  clientList.innerHTML=clients.map(c=>`<li class="p-2">${c.name} - ${c.phone}</li>`).join("");
  rentalList.innerHTML=rentals.map(r=>`<li class="p-2">${r.bike} â†’ ${r.client} ($${r.total})</li>`).join("");

  rentBike.innerHTML=bikes.map((b,i)=>`<option value="${i}">${b.name}</option>`).join("");
  rentClient.innerHTML=clients.map((c,i)=>`<option value="${i}">${c.name}</option>`).join("");

  bikeCount.textContent=bikes.length;
  clientCount.textContent=clients.length;
  rentalCount.textContent=rentals.length;
  revenue.textContent=rentals.reduce((s,r)=>s+r.total,0);

  chart.data.datasets[0].data=[bikes.length,clients.length,rentals.length];
  chart.update();
}

const chart=new Chart(document.getElementById("chart"),{
  type:"bar",
  data:{labels:["Vehicles","Clients","Rentals"],datasets:[{data:[0,0,0],backgroundColor:"#0f172a"}]}
});
</script>

</body>
</html>
