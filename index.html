<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Desi Rental – Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body { background:#f5f6fa; }
.sidebar {
  height:100vh;
  background:#111827;
  color:#fff;
  position:fixed;
  width:220px;
  padding:15px;
}
.sidebar h4 { color:#fff; }
.sidebar a {
  color:#9ca3af;
  display:block;
  padding:10px;
  text-decoration:none;
  border-radius:6px;
}
.sidebar a:hover { background:#1f2937; color:#fff; }
.main {
  margin-left:240px;
  padding:20px;
}
.card { border:none; border-radius:12px; }
</style>
</head>

<body>

<div class="sidebar">
  <h4>Desi Rental</h4>
  <a href="#dashboard">Dashboard</a>
  <a href="#bikes">Bikes</a>
  <a href="#clients">Clients</a>
  <a href="#rentals">Rentals</a>
  <a href="#payments">Payments</a>
  <a href="#service">Service</a>
</div>

<div class="main">

<!-- DASHBOARD -->
<section id="dashboard">
<div class="row g-3">
  <div class="col-md-3">
    <div class="card p-3">
      <h6>Total Bikes</h6>
      <h3 id="bikeCount">0</h3>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card p-3">
      <h6>Clients</h6>
      <h3 id="clientCount">0</h3>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card p-3">
      <h6>Active Rentals</h6>
      <h3 id="rentalCount">0</h3>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card p-3">
      <h6>Total Revenue</h6>
      <h3>$<span id="revenue">0</span></h3>
    </div>
  </div>
</div>

<div class="card mt-4 p-3">
<canvas id="chart"></canvas>
</div>
</section>

<hr>

<!-- BIKES -->
<section id="bikes">
<h4>Bikes</h4>
<input class="form-control mb-2" id="bikeName" placeholder="Bike name">
<input class="form-control mb-2" id="rate1" placeholder="Rate option 1">
<input class="form-control mb-2" id="rate2" placeholder="Rate option 2">
<button class="btn btn-dark" onclick="addBike()">Add Bike</button>
<ul class="list-group mt-2" id="bikeList"></ul>
</section>

<hr>

<!-- CLIENTS -->
<section id="clients">
<h4>Clients</h4>
<input class="form-control mb-2" id="clientName" placeholder="Client name">
<input class="form-control mb-2" id="clientPhone" placeholder="Phone">
<button class="btn btn-dark" onclick="addClient()">Add Client</button>
<ul class="list-group mt-2" id="clientList"></ul>
</section>

<hr>

<!-- RENTALS -->
<section id="rentals">
<h4>Rentals</h4>
<select class="form-control mb-2" id="rentBike"></select>
<select class="form-control mb-2" id="rentClient"></select>
<select class="form-control mb-2" id="rentRate">
  <option value="1">Rate 1</option>
  <option value="2">Rate 2</option>
</select>
<input class="form-control mb-2" id="weeks" placeholder="Weeks">
<button class="btn btn-dark" onclick="addRental()">Add Rental</button>
<ul class="list-group mt-2" id="rentalList"></ul>
</section>

</div>

<script>
let bikes=[], clients=[], rentals=[];

function addBike(){
  bikes.push({
    name:bikeName.value,
    r1:+rate1.value,
    r2:+rate2.value
  });
  bikeName.value=rate1.value=rate2.value="";
  render();
}

function addClient(){
  clients.push({name:clientName.value, phone:clientPhone.value});
  clientName.value=clientPhone.value="";
  render();
}

function addRental(){
  let b=bikes[rentBike.value];
  let c=clients[rentClient.value];
  let rate=rentRate.value==1?b.r1:b.r2;
  let total=rate*weeks.value;
  rentals.push({bike:b.name, client:c.name, total});
  weeks.value="";
  render();
}

function render(){
  bikeList.innerHTML=bikes.map(b=>`<li class="list-group-item">${b.name}</li>`).join("");
  clientList.innerHTML=clients.map(c=>`<li class="list-group-item">${c.name}</li>`).join("");
  rentalList.innerHTML=rentals.map(r=>`<li class="list-group-item">${r.bike} → ${r.client} : $${r.total}</li>`).join("");

  rentBike.innerHTML=bikes.map((b,i)=>`<option value="${i}">${b.name}</option>`).join("");
  rentClient.innerHTML=clients.map((c,i)=>`<option value="${i}">${c.name}</option>`).join("");

  bikeCount.innerText=bikes.length;
  clientCount.innerText=clients.length;
  rentalCount.innerText=rentals.length;
  revenue.innerText=rentals.reduce((s,r)=>s+r.total,0);

  chart.data.datasets[0].data=[bikes.length,clients.length,rentals.length];
  chart.update();
}

const chart=new Chart(document.getElementById("chart"),{
  type:"bar",
  data:{
    labels:["Bikes","Clients","Rentals"],
    datasets:[{data:[0,0,0], backgroundColor:"#111827"}]
  }
});
</script>

</body>
</html>
